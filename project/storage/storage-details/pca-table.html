<oui-datagrid rows="files">
    <oui-column title="'storage_file_name' | translate" property="name" sortable></oui-column>
    <oui-column title="'storage_last_modify' | translate" property="lastModified" sortable>
        {{$row.lastModified | date:'medium'}}
    </oui-column>
    <oui-column title="'storage_size' | translate" property="size" sortable>
        {{$row.size | RAUnitsBits}}
    </oui-column>
    <oui-column title="'storage_file_type' | translate" property="contentType" sortable></oui-column>
    <oui-column title="'storage_file_download' | translate" property="retrievalState" sortable>
        <div data-ng-show="$row.sealingStateLoading" class="text-center">
            <oui-spinner size="s"></oui-spinner>
        </div>
        <span data-ng-hide="$row.sealingStateLoading" data-ng-switch="$row.retrievalState">
            <div data-ng-switch-when="sealed">
                <button type="button" class="ovh-button ovh-button_secondary" data-ng-bind="$row.stateText" data-ng-click="fileDownload($row)" data-uib-tooltip="{{'storage_file_state_sealed' | translate }}" data-tooltip-trigger="mouseenter"></button>
            </div>
            <div data-ng-switch-when="unsealing">
                <button type="button" class="oui-button oui-button_secondary" data-ng-bind="$row.stateText" data-ng-click="fileDownload($row)" data-uib-tooltip="{{'storage_file_state_unsealing' | translate }}" data-tooltip-trigger="mouseenter"></button>
            </div>
            <div data-ng-switch-when="unsealed">
                <button type="button" class="oui-button oui-button_secondary" data-ng-bind="$row.stateText" data-ng-click="fileDownload($row)" data-uib-tooltip="{{'storage_file_state_unsealed' | translate }}" data-tooltip-trigger="mouseenter"></button>
            </div>
        </span>
    </oui-column>

    <oui-action-menu align="end" compact>
        <oui-action-menu-item text="{{'storage_delete_button' | translate}}"
                              on-click="delete($row)"></oui-action-menu-item>
    </oui-action-menu>
</oui-datagrid>
