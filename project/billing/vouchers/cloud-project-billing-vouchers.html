<div class="cloud-billing-vouchers">

    <div class="cui-page__content">

        <!-- ADD BUTTON -->
        <button class="oui-button oui-button_secondary"
                data-ng-click="VouchersCtrl.openAddVoucher()"
                data-ng-disabled="VouchersCtrl.loading.init || VouchersCtrl.datas.voucherIds === null"
                write-right-required>
            <span data-translate="cpb_vouchers_add_button"/>
        </button>

        <!-- ADD CREDIT BUTTON -->
        <button class="oui-button oui-button_secondary"
                data-ng-click="VouchersCtrl.openAddCredit()"
                data-ng-disabled="VouchersCtrl.loading.init || VouchersCtrl.datas.voucherIds === null"
                write-right-required>
            <span data-translate="cpb_vouchers_add_credit_button"/>
        </button>

        <p data-translate="cpb_vouchers_add_explain_bis" class=""></p>

        <!-- VOUCHERS LIST -->
        <oui-datagrid rows="VouchersCtrl.datas.vouchers">
            <oui-column title="'cpb_vouchers_name_cell' | translate" property="id" sortable>
                {{ :: VouchersCtrl.getVoucherDisplayName($row) }}
                <div data-ng-if="$row.pdfUrl">
                    <span data-translate="cpb_vouchers_bill_ref" data-translate-values="{ url : $row.pdfUrl, billId : $row.bill }"></span>
                </div>
            </oui-column>
            <oui-column title="'cpb_vouchers_products_cell' | translate" property="products" sortable>
                {{ :: $row.products.length ? $row.products.join(', ') : ('cpb_vouchers_products_all' | translate) }}
            </oui-column>
            <oui-column title="'cpb_vouchers_voucher_cell' | translate" property="voucher" sortable></oui-column>
            <oui-column title="'cpb_vouchers_validity_from_cell' | translate" property="validity.from" sortable>
                {{ :: $row.validity.from | date:'medium' }}
            </oui-column>
            <oui-column title="'cpb_vouchers_total_credit_cell' | translate" property="total_credit.text" sortable></oui-column>
            <oui-column title="'cpb_vouchers_validity_to_cell' | translate" property="validity.to">
                {{ :: $row.validity.to | date:'medium' }}
            </oui-column>
            <oui-column title="'cpb_vouchers_available_credit_cell' | translate" property="available_credit.text" sortable></oui-column>
        </oui-datagrid>

        <p data-translate="cpb_vouchers_credit_comment" class="fs10 top-space-m20"></p>

    </div>

</div>
